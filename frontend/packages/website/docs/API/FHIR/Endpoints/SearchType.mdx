---
id: search-type
title: search-type
sidebar_position: 7
---

# Search Resource Type

The FHIR [search operation](https://www.hl7.org/fhir/http.html#search) allows you to search for resources of a specific type that match certain search criteria. This is done using an HTTP GET request to the endpoint corresponding to the resource type with query parameters.

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="cli" label="CLI" default>

Search for Patient resources using the Haste Health CLI:

```bash
haste-health api search-type Patient "name=Smith&birthdate=ge1980-01-01"
```

This command searches for Patient resources with family name "Smith" born on or after January 1, 1980.

You can also search without parameters to get all resources of a type:

```bash
haste-health api search-type Patient
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

Search for Patient resources using the TypeScript client:

```typescript
import { AsynchronousClient } from '@haste-health/client';
import { R4 } from '@haste-health/fhir-types/versions';
import { Patient } from '@haste-health/fhir-types/r4/types';

// Assuming you have a configured client
const client: AsynchronousClient<{}> = /* ... */;

const searchResults = await client.search_type<typeof R4, 'Patient'>(
  {},
  R4,
  'Patient',
  'name=Smith&birthdate=ge1980-01-01'
);

console.log('Total matches:', searchResults.total);
console.log('Patients found:', searchResults.resources);

// You can also use parsed parameters
import { parseQuery } from '@haste-health/client/url';

const searchWithParsed = await client.search_type<typeof R4, 'Patient'>(
  {},
  R4,
  'Patient',
  parseQuery('name=Smith&birthdate=ge1980-01-01')
);
```

</TabItem>
<TabItem value="curl" label="cURL">

Search for Patient resources using cURL:

```bash
curl -X GET "https://api.haste.health/w/[tenant]/api/v1/[project]/fhir/r4/Patient?name=Smith&birthdate=ge1980-01-01" \
     -H "Content-Type: application/fhir+json" \
     -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

</TabItem>
</Tabs>

Replace `[tenant]` with your tenant name and `[project]` with your project ID.

## Error Handling

If there are any issues with the request (e.g., invalid search parameters), the server will respond with an appropriate error status code and include an `OperationOutcome` resource in the response body.

```
HTTP/1.1 400 Bad Request
Content-Type: application/fhir+json
```

```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "invalid",
      "diagnostics": "Invalid search parameter: unknown_param"
    }
  ]
}
```

---
id: history-instance
title: history-instance
sidebar_position: 9
---

# History Resource Instance

The FHIR [history operation](https://www.hl7.org/fhir/http.html#history) allows you to retrieve the change history for a specific resource instance. This is done using an HTTP GET request to the history endpoint for the resource.

## Endpoint

```
GET /w/[tenant]/api/v1/[project]/fhir/r4/[ResourceType]/[id]/_history
```

Where `[ResourceType]` is the type of resource (e.g., Patient, Observation) and `[id]` is the logical ID of the resource instance.

## Query Parameters

Optional parameters to control the history results:

- `_count` - Number of entries to return (default: server-defined)
- `_since` - Return only changes since this date/time
- `_at` - Return the state as of this date/time

Example: `GET /w/[tenant]/api/v1/[project]/fhir/r4/Patient/12345/_history?_count=10&_since=2025-01-01`

## Response

If the request is successful, the server will respond with a `200 OK` status code and a Bundle of type `history` containing all versions of the resource.

```
HTTP/1.1 200 OK
Content-Type: application/fhir+json
```

```json
{
  "resourceType": "Bundle",
  "type": "history",
  "total": 3,
  "entry": [
    {
      "fullUrl": "http://api.haste.health/w/[tenant]/api/v1/[project]/fhir/r4/Patient/12345/_history/3",
      "resource": {
        "resourceType": "Patient",
        "id": "12345",
        "meta": {
          "versionId": "3",
          "lastUpdated": "2025-11-26T10:30:00Z"
        },
        "name": [
          {
            "use": "official",
            "family": "Smith",
            "given": ["John"]
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "Patient/12345"
      },
      "response": {
        "status": "200"
      }
    },
    {
      "fullUrl": "http://api.haste.health/w/[tenant]/api/v1/[project]/fhir/r4/Patient/12345/_history/2",
      "resource": {
        "resourceType": "Patient",
        "id": "12345",
        "meta": {
          "versionId": "2",
          "lastUpdated": "2025-11-25T14:20:00Z"
        },
        "name": [
          {
            "use": "official",
            "family": "Doe",
            "given": ["John"]
          }
        ]
      },
      "request": {
        "method": "PUT",
        "url": "Patient/12345"
      },
      "response": {
        "status": "200"
      }
    }
  ]
}
```

## Error Handling

If the resource is not found, the server will respond with a `404 Not Found` status code and include an `OperationOutcome` resource in the response body.

```
HTTP/1.1 404 Not Found
Content-Type: application/fhir+json
```

```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "not-found",
      "diagnostics": "Resource Patient/12345 not found"
    }
  ]
}
```

## Example using cURL

Here is an example of how to retrieve the history of a Patient resource using cURL:

```bash
curl -X GET "http://api.haste.health/Patient/12345/_history?_count=10" \
     -H "Content-Type: application/fhir+json" \
     -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

This command sends a GET request to retrieve the last 10 versions of the Patient resource with ID 12345.
